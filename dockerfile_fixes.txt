# Dockerfile 수정사항

# 런타임 스테이지에 추가할 내용:

# 1. PortAudio 런타임 라이브러리 설치
RUN apt-get update && apt-get install -y \
    libportaudio2 \
    && rm -rf /var/lib/apt/lists/*

# 2. NLTK 데이터 경로 설정 및 복사
ENV NLTK_DATA=/usr/local/nltk_data
COPY --from=builder /root/nltk_data /usr/local/nltk_data

# 3. pip dependency check 추가 (선택사항)
RUN pip install pip-tools && pip check

# 4. 헬스체크 엔드포인트 확인
# main.py에 다음 코드 추가 필요:
# @app.get('/health')
# async def health_check():
#     return {'status': 'healthy'}