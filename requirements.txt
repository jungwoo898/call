# Core dependencies (GPU 기본)
numpy>=1.21.0,<2.0.0
scipy==1.10.0
requests==2.31.0
python-dotenv==1.0.1
pyyaml==6.0.2
omegaconf==2.3.0
hydra-core==1.3.2
watchdog[watchmedo]==6.0.0
pydub==0.25.1
soundfile==0.12.1
librosa==0.10.2.post1
noisereduce==3.0.3
nltk==3.9.1
openai==1.57.0

# API dependencies
aiohttp==3.9.1
httpx==0.27.0
huggingface-hub==0.32.4

# Web API dependencies (Pydantic v2 호환으로 통일)
pydantic==2.7.3
fastapi==0.111.0
uvicorn[standard]==0.29.0
psutil==5.9.5

# ML/AI dependencies (PyTorch 2.2.0 호환)
# PyTorch 관련 패키지는 Dockerfile에서 별도 설치 (버전 충돌 방지)
accelerate>=0.27.0
transformers[torch]==4.41.2
IPython==8.30.0
treetable==0.2.5
gradio==5.8.0

# GPU 가속 오디오 처리 (PyTorch 2.1.2 호환 버전으로 통일)
faster-whisper==1.1.1
demucs==4.0.1
# mamba-ssm>=2.0.0,<3.0.0  # 사전 빌드된 wheel로 별도 설치
nemo_toolkit==2.0.0
pyannote.audio==3.1.1
MPSENet==1.0.3
ctc-forced-aligner==1.0.2

# Language detection (lightweight version)
langdetect==1.0.9

# Punctuation restoration
deepmultilingualpunctuation==1.0.1

# Additional dependencies
pandas==2.0.3
matplotlib==3.10.3
scikit-learn==1.3.0
memory-profiler==0.61.0
cython==3.0.6

# 음성 처리 핵심 라이브러리 (PyTorch 2.1.2 안정 호환)
speechbrain==0.5.16

# 텍스트 처리 및 NLP (Transformers 4.41.2 호환)
datasets==2.19.2
tokenizers==0.19.1
sentencepiece==0.1.99

# 오디오 처리
webrtcvad==2.0.10

# AI 및 머신러닝 (GPU 가속)
langchain==0.2.5
langchain-openai==0.1.8

# GPU 모니터링 도구
nvidia-ml-py==12.535.133
gpustat==1.1.1

# 개발 및 디버깅
pytest==7.4.0
black==24.3.0
isort==5.12.0

# 기타 유틸리티
tqdm==4.65.0
rich==13.4.2
click==8.1.6

# CPU 전용 설치가 필요한 경우 (선택사항):
# pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu
# pip install -r requirements.txt

# 주의: PyTorch GPU 버전은 Dockerfile에서 CUDA 11.8과 함께 설치됨
# ChatGPT 호환성 검증 완료 - 안정적인 조합:
# ✅ PyTorch 2.2.0 + torchaudio 2.2.0 (CUDA 11.8 호환)
# ✅ numpy: <2.0.0 제약 (mamba-ssm NumPy 2.x 호환성 이슈 방지)
# ✅ mamba-ssm: 2.0.x 명시적 설치 (nemo-toolkit 의존성 충돌 방지)
# ✅ demucs: 4.1.0 → 4.0.1 (PyTorch 2.2.0 호환, 4.1.1 미배포)
# ✅ nemo_toolkit: 2.0.0 (black 24.3.0, transformers ≥4.44 요구)
# ✅ gradio: 5.8.0 (Pydantic v2 완전 지원)
# ✅ speechbrain: 0.5.16 (PyTorch 2.2.0 호환, 0.5.18 미배포)
# ✅ transformers: 4.41.2 (nemo-toolkit 요구 ≥4.44 충족)
# ✅ tokenizers: 0.19.1 (transformers 4.41.2 호환, deepmultilingualpunctuation 요구)
# ✅ datasets: 2.19.2 (tokenizers ≥0.19 지원)
# ✅ accelerate: 0.27.0 (transformers 4.41.2 호환)
# ✅ pyannote.audio: 3.1.1 (PyTorch 2.2.0 호환, 3.1.2 미배포)
# ✅ huggingface-hub: 0.32.4 (tokenizers 0.20.x 의존성 제거로 충돌 해소)
# ✅ FastAPI: 0.111.0 + Pydantic: 2.7.3 (v2 네이티브 호환)
# ✅ black: 24.3.0 (nemo-toolkit[all] 요구)
# ✅ faster-whisper: 1.1.1 (tokenizers ≥0.19 지원, 성능 향상)
